<!-- Factory Section -->
<section id="factory" class="factory-section">
    <div class="container">
        <div class="factory-container">
            <h1 data-lang-key="title">üöÄ MineralX Token Factory</h1>
            <p class="subtitle" data-lang-key="subtitle">Cr√©ez votre crypto en 2 minutes - Memecoins, Utility Tokens, Stablecoins</p>
            
            <!-- Carte de pr√©sentation des avantages -->
            <div class="factory-features">
                <div class="feature-highlight">
                    <span>üî•</span>
                    <p data-lang-key="feature1">Frais g√©n√©rateurs de revenus: 0.10 BNB</p>
                </div>
                <div class="feature-highlight">
                    <span>üöÄ</span>
                    <p data-lang-key="feature2">D√©ploiement instantan√© sur BSC</p>
                </div>
                <div class="feature-highlight">
                    <span>üí∞</span>
                    <p data-lang-key="feature3">70% des frais revers√©s aux holders ZND</p>
                </div>
            </div>

            <div class="form-group">
                <label for="tokenType" data-lang-key="label.type">Type de Token*</label>
                <select id="tokenType">
                    <option value="memecoin" data-lang-key="option.memecoin">Memecoin / Fun Token</option>
                    <option value="utility" data-lang-key="option.utility">Utility Token</option>
                    <option value="stablecoin" data-lang-key="option.stablecoin">Stablecoin (Min√©ral-back√©)</option>
                    <option value="governance" data-lang-key="option.governance">Governance Token</option>
                    <option value="nft" data-lang-key="option.nft">Collection NFT</option>
                </select>
                <small data-lang-key="hint.type">Choisissez le type de token qui correspond √† votre projet</small>
            </div>

            <div class="form-group">
                <label for="tokenName" data-lang-key="label.name">Nom du Token*</label>
                <input type="text" id="tokenName" placeholder="" maxlength="30">
                <small class="placeholder-text" data-lang-key="placeholder.name">Ex: DogeX, MoonToken, ElonCoin</small>
            </div>
            
            <div class="form-group">
                <label for="tokenSymbol" data-lang-key="label.symbol">Symbole*</label>
                <input type="text" id="tokenSymbol" placeholder="" maxlength="10">
                <small class="placeholder-text" data-lang-key="placeholder.symbol">Ex: DOGEX, MOON, ELON (3-10 lettres)</small>
            </div>
            
            <div class="form-group">
                <label for="tokenSupply" data-lang-key="label.supply">Supply Total*</label>
                <input type="number" id="tokenSupply" placeholder="" min="1000" value="1000000">
                <small><span class="placeholder-text" data-lang-key="placeholder.supply">Ex: 1000000, 1000000000</span></small>
            </div>

            <!-- Options avanc√©es -->
            <div class="advanced-options">
                <h3 data-lang-key="advanced.title">‚öôÔ∏è Options Avanc√©es</h3>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="enableTax" checked>
                        <span data-lang-key="option.tax">Taxes de transaction (2% marketing, 2% liquidity)</span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="enableBurn" checked>
                        <span data-lang-key="option.burn">Fonction burn (destruction de tokens)</span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="enableReflection">
                        <span data-lang-key="option.reflection">Rewards auto (redistribution aux holders)</span>
                    </label>
                </div>
            </div>

            <!-- Section prix -->
            <div class="pricing-card">
                <h3 data-lang-key="pricing.title">üíé Frais de Cr√©ation</h3>
                <div class="price-display">
                    <span class="price">0.10 BNB</span>
                    <small data-lang-key="pricing.hint">‚âà $30-40 selon le prix du BNB</small>
                </div>
                <div class="revenue-breakdown">
                    <p><strong data-lang-key="revenue.title">R√©partition des revenus:</strong></p>
                    <ul>
                        <li data-lang-key="revenue.item1">‚Ä¢ 70% aux holders ZND (staking rewards)</li>
                        <li data-lang-key="revenue.item2">‚Ä¢ 20% d√©veloppement & marketing</li>
                        <li data-lang-key="revenue.item3">‚Ä¢ 10% frais blockchain & s√©curit√©</li>
                    </ul>
                </div>
            </div>

            <button class="btn-create" id="createTokenBtn" disabled data-lang-key="button.connect">üîó Connectez votre portefeuille</button>

            <div id="statusBox" class="status-box"></div>

            <!-- Section succ√®s stories -->
            <div class="success-stories">
                <h3 data-lang-key="stories.title">üéØ Tokens Cr√©√©s avec Notre Factory</h3>
                <div class="stories-grid">
                    <div class="story">
                        <strong>MoonDoge</strong> <span class="symbol">MDOGE</span>
                        <small>+1200% en 1 mois</small>
                    </div>
                    <div class="story">
                        <strong>ZND Rewards</strong> <span class="symbol">ZNDR</span>
                        <small>Utility token ZND ecosystem</small>
                    </div>
                    <div class="story">
                        <strong>Mineral NFT</strong> <span class="symbol">MNFT</span>
                        <small>Collection de 10k NFTs</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Factory Section */
.factory-section {
    padding: 100px 0;
    background: rgba(15, 23, 42, 0.8);
}

.factory-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 40px;
    background: var(--card-bg);
    border-radius: 20px;
    border: 1px solid #475569;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.factory-container h1 {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 1rem;
    background: linear-gradient(45deg, var(--primary-blue), var(--primary-green));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.factory-container .subtitle {
    text-align: center;
    color: var(--text-gray);
    margin-bottom: 2.5rem;
    font-size: 1.1rem;
    line-height: 1.6;
}

/* Factory Features */
.factory-features {
    display: flex;
    justify-content: space-between;
    gap: 15px;
    margin: 25px 0;
    flex-wrap: wrap;
}

.feature-highlight {
    flex: 1;
    min-width: 200px;
    background: rgba(59, 130, 246, 0.1);
    border: 1px solid rgba(59, 130, 246, 0.3);
    padding: 15px;
    border-radius: 10px;
    text-align: center;
}

.feature-highlight span {
    font-size: 1.5rem;
    display: block;
    margin-bottom: 8px;
}

.feature-highlight p {
    color: var(--text-light);
    font-size: 0.9rem;
    margin: 0;
    font-weight: 500;
}

.form-group {
    margin-bottom: 25px;
}

.form-group label {
    display: block;
    margin-bottom: 10px;
    font-weight: 600;
    color: var(--text-light);
    font-size: 1rem;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 14px 16px;
    background: rgba(255, 255, 255, 0.1);
    border: 2px solid #475569;
    border-radius: 10px;
    color: var(--text-light);
    font-size: 1rem;
    transition: all 0.3s;
}

.form-group input:focus,
.form-group select:focus {
    border-color: var(--primary-blue);
    outline: none;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.form-group small {
    display: block;
    margin-top: 8px;
    color: var(--text-gray);
    font-size: 0.85rem;
}

/* Advanced Options */
.advanced-options {
    background: rgba(255, 255, 255, 0.05);
    padding: 20px;
    border-radius: 12px;
    margin: 25px 0;
    border: 1px solid #475569;
}

.advanced-options h3 {
    color: var(--text-light);
    margin-bottom: 15px;
    font-size: 1.2rem;
}

.advanced-options label {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--text-light);
    cursor: pointer;
    margin-bottom: 12px;
    font-size: 0.95rem;
}

.advanced-options input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--primary-blue);
}

/* Pricing Card */
.pricing-card {
    background: linear-gradient(135deg, rgba(30, 64, 175, 0.2), rgba(139, 92, 246, 0.2));
    border: 2px solid var(--primary-blue);
    padding: 25px;
    border-radius: 15px;
    margin: 25px 0;
    text-align: center;
}

.pricing-card h3 {
    color: var(--text-light);
    margin-bottom: 15px;
    font-size: 1.3rem;
}

.price-display {
    margin: 20px 0;
}

.price {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--primary-green);
    display: block;
}

.price-display small {
    color: var(--text-gray);
    font-size: 0.9rem;
}

.revenue-breakdown {
    text-align: left;
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    border-radius: 10px;
    margin-top: 20px;
}

.revenue-breakdown p {
    color: var(--text-light);
    margin-bottom: 10px;
}

.revenue-breakdown ul {
    list-style: none;
    padding-left: 0;
}

.revenue-breakdown li {
    color: var(--text-gray);
    margin-bottom: 8px;
    font-size: 0.9rem;
    padding-left: 5px;
}

.btn-create {
    width: 100%;
    padding: 16px;
    background: linear-gradient(45deg, var(--primary-blue), #8b5cf6);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    margin-top: 10px;
}

.btn-create:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
}

.btn-create:disabled {
    background: #475569;
    cursor: not-allowed;
    opacity: 0.7;
}

.status-box {
    margin-top: 25px;
    padding: 20px;
    border-radius: 10px;
    display: none;
}

.status-success {
    background: rgba(21, 128, 61, 0.2);
    color: #86efac;
    border: 1px solid #166534;
}

.status-error {
    background: rgba(127, 29, 29, 0.2);
    color: #fca5a5;
    border: 1px solid #7f1d1d;
}

.status-info {
    background: rgba(30, 64, 175, 0.2);
    color: #93c5fd;
    border: 1px solid #1e40af;
}

.token-link {
    color: var(--primary-blue);
    font-weight: bold;
    text-decoration: none;
}

.token-link:hover {
    text-decoration: underline;
}

.form-group p {
    color: var(--text-light);
    margin-bottom: 8px;
}

#feeAmount {
    color: var(--primary-green);
    font-weight: bold;
}

/* Success Stories */
.success-stories {
    margin-top: 40px;
    padding-top: 30px;
    border-top: 1px solid #475569;
}

.success-stories h3 {
    color: var(--text-light);
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.3rem;
}

.stories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.story {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    border: 1px solid #475569;
    transition: transform 0.3s;
}

.story:hover {
    transform: translateY(-5px);
    border-color: var(--primary-blue);
}

.story strong {
    color: var(--text-light);
    display: block;
    font-size: 1.1rem;
}

.story .symbol {
    color: var(--primary-green);
    font-weight: bold;
    font-size: 0.9rem;
}

.story small {
    color: var(--text-gray);
    font-size: 0.8rem;
    display: block;
    margin-top: 5px;
}

/* Responsive */
@media (max-width: 768px) {
    .factory-container {
        padding: 25px 20px;
        margin: 0 15px;
    }
    
    .factory-container h1 {
        font-size: 2rem;
    }
    
    .factory-features {
        flex-direction: column;
    }
    
    .feature-highlight {
        min-width: 100%;
    }
    
    .stories-grid {
        grid-template-columns: 1fr;
    }
    
    .price {
        font-size: 2rem;
    }
}
</style>

<script>
// Factory Translations
const factoryTranslations = {
    fr: {
        "title": "üöÄ MineralX Token Factory",
        "subtitle": "Cr√©ez votre crypto en 2 minutes - Memecoins, Utility Tokens, Stablecoins",
        "feature1": "Frais g√©n√©rateurs de revenus: 0.10 BNB",
        "feature2": "D√©ploiement instantan√© sur BSC",
        "feature3": "70% des frais revers√©s aux holders ZND",
        "label.type": "Type de Token*",
        "hint.type": "Choisissez le type de token qui correspond √† votre projet",
        "option.memecoin": "Memecoin / Fun Token",
        "option.utility": "Utility Token",
        "option.stablecoin": "Stablecoin (Min√©ral-back√©)",
        "option.governance": "Governance Token",
        "option.nft": "Collection NFT",
        "advanced.title": "‚öôÔ∏è Options Avanc√©es",
        "option.tax": "Taxes de transaction (2% marketing, 2% liquidity)",
        "option.burn": "Fonction burn (destruction de tokens)",
        "option.reflection": "Rewards auto (redistribution aux holders)",
        "pricing.title": "üíé Frais de Cr√©ation",
        "pricing.hint": "‚âà $30-40 selon le prix du BNB",
        "revenue.title": "R√©partition des revenus:",
        "revenue.item1": "‚Ä¢ 70% aux holders ZND (staking rewards)",
        "revenue.item2": "‚Ä¢ 20% d√©veloppement & marketing",
        "revenue.item3": "‚Ä¢ 10% frais blockchain & s√©curit√©",
        "stories.title": "üéØ Tokens Cr√©√©s avec Notre Factory",
        "label.name": "Nom du Token*",
        "placeholder.name": "Ex: DogeX, MoonToken, ElonCoin",
        "label.symbol": "Symbole*",
        "placeholder.symbol": "Ex: DOGEX, MOON, ELON (3-10 lettres)",
        "label.supply": "Supply Total*",
        "placeholder.supply": "Ex: 1000000, 1000000000",
        "supplyHint": "Nombre total de tokens qui existeront",
        "label.category": "Cat√©gorie de Ressource",
        "option.metal": "M√©tal Industriel (Cuivre, Nickel...)",
        "option.precious": "M√©tal Pr√©cieux (Or, Argent...)",
        "option.energy": "√ânergie (Uranium, Lithium...)",
        "option.tech": "Technologie (Silicium, Cobalt...)",
        "fee.text": "Frais de cr√©ation :",
        "fee.hint": "Ces frais couvrent le d√©ploiement sur la blockchain",
        "button.connect": "üîó Connectez votre portefeuille",
        "button.create": "üè≠ Cr√©er Maintenant (0.10 BNB)",
        "status.connect": "üîó Connectez votre portefeuille",
        "status.metamask": "MetaMask requis"
    },
    en: {
        "title": "üöÄ MineralX Token Factory",
        "subtitle": "Create your crypto in 2 minutes - Memecoins, Utility Tokens, Stablecoins",
        "feature1": "Revenue-generating fees: 0.10 BNB",
        "feature2": "Instant deployment on BSC",
        "feature3": "70% of fees redistributed to ZND holders",
        "label.type": "Token Type*",
        "hint.type": "Choose the token type that matches your project",
        "option.memecoin": "Memecoin / Fun Token",
        "option.utility": "Utility Token",
        "option.stablecoin": "Stablecoin (Mineral-backed)",
        "option.governance": "Governance Token",
        "option.nft": "NFT Collection",
        "advanced.title": "‚öôÔ∏è Advanced Options",
        "option.tax": "Transaction taxes (2% marketing, 2% liquidity)",
        "option.burn": "Burn function (token destruction)",
        "option.reflection": "Auto rewards (redistribution to holders)",
        "pricing.title": "üíé Creation Fees",
        "pricing.hint": "‚âà $30-40 depending on BNB price",
        "revenue.title": "Revenue distribution:",
        "revenue.item1": "‚Ä¢ 70% to ZND holders (staking rewards)",
        "revenue.item2": "‚Ä¢ 20% development & marketing",
        "revenue.item3": "‚Ä¢ 10% blockchain fees & security",
        "stories.title": "üéØ Tokens Created with Our Factory",
        "label.name": "Token Name*",
        "placeholder.name": "Ex: DogeX, MoonToken, ElonCoin",
        "label.symbol": "Symbol*",
        "placeholder.symbol": "Ex: DOGEX, MOON, ELON (3-10 letters)",
        "label.supply": "Total Supply*",
        "placeholder.supply": "Ex: 1000000, 1000000000",
        "supplyHint": "Total number of tokens that will exist",
        "label.category": "Resource Category",
        "option.metal": "Industrial Metal (Copper, Nickel...)",
        "option.precious": "Precious Metal (Gold, Silver...)",
        "option.energy": "Energy (Uranium, Lithium...)",
        "option.tech": "Technology (Silicon, Cobalt...)",
        "fee.text": "Creation fee:",
        "fee.hint": "This fee covers blockchain deployment",
        "button.connect": "üîó Connect your wallet",
        "button.create": "üè≠ Create Now (0.10 BNB)",
        "status.connect": "üîó Connect your wallet",
        "status.metamask": "MetaMask required"
    },
    ru: {
        "title": "üöÄ MineralX Token Factory",
        "subtitle": "–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –∑–∞ 2 –º–∏–Ω—É—Ç—ã - –ú–µ–º–∫–æ–∏–Ω—ã, –£—Ç–∏–ª–∏—Ç–∏ —Ç–æ–∫–µ–Ω—ã, –°—Ç–µ–π–±–ª–∫–æ–∏–Ω—ã",
        "feature1": "–ü–ª–∞—Ç–µ–∂–∏, –ø—Ä–∏–Ω–æ—Å—è—â–∏–µ –¥–æ—Ö–æ–¥: 0.10 BNB",
        "feature2": "–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ BSC",
        "feature3": "70% —Å–±–æ—Ä–æ–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å—Ä–µ–¥–∏ –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π ZND",
        "label.type": "–¢–∏–ø —Ç–æ–∫–µ–Ω–∞*",
        "hint.type": "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–æ–∫–µ–Ω–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É",
        "option.memecoin": "–ú–µ–º–∫–æ–∏–Ω / –†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω",
        "option.utility": "–£—Ç–∏–ª–∏—Ç–∏ —Ç–æ–∫–µ–Ω",
        "option.stablecoin": "–°—Ç–µ–π–±–ª–∫–æ–∏–Ω (–û–±–µ—Å–ø–µ—á–µ–Ω –º–∏–Ω–µ—Ä–∞–ª–∞–º–∏)",
        "option.governance": "–¢–æ–∫–µ–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è",
        "option.nft": "–ö–æ–ª–ª–µ–∫—Ü–∏—è NFT",
        "advanced.title": "‚öôÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏",
        "option.tax": "–ù–∞–ª–æ–≥–∏ –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (2% –º–∞—Ä–∫–µ—Ç–∏–Ω–≥, 2% –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)",
        "option.burn": "–§—É–Ω–∫—Ü–∏—è —Å–∂–∏–≥–∞–Ω–∏—è (—É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤)",
        "option.reflection": "–ê–≤—Ç–æ–Ω–∞–≥—Ä–∞–¥—ã (–ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ—Ä–∂–∞—Ç–µ–ª—è–º)",
        "pricing.title": "üíé –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è",
        "pricing.hint": "‚âà $30-40 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ü–µ–Ω—ã BNB",
        "revenue.title": "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤:",
        "revenue.item1": "‚Ä¢ 70% –¥–µ—Ä–∂–∞—Ç–µ–ª—è–º ZND (–≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∑–∞ —Å—Ç–µ–π–∫–∏–Ω–≥)",
        "revenue.item2": "‚Ä¢ 20% —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥",
        "revenue.item3": "‚Ä¢ 10% –∫–æ–º–∏—Å—Å–∏–∏ –±–ª–æ–∫—á–µ–π–Ω–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
        "stories.title": "üéØ –¢–æ–∫–µ–Ω—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ –Ω–∞—à–µ–π —Ñ–∞–±—Ä–∏–∫–µ",
        "label.name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞*",
        "placeholder.name": "–ù–∞–ø—Ä: DogeX, MoonToken, ElonCoin",
        "label.symbol": "–°–∏–º–≤–æ–ª*",
        "placeholder.symbol": "–ù–∞–ø—Ä: DOGEX, MOON, ELON (3-10 –±—É–∫–≤)",
        "label.supply": "–û–±—â–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ*",
        "placeholder.supply": "–ù–∞–ø—Ä: 1000000, 1000000000",
        "supplyHint": "–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤",
        "label.category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ä–µ—Å—É—Ä—Å–∞",
        "option.metal": "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –º–µ—Ç–∞–ª–ª (–ú–µ–¥—å, –ù–∏–∫–µ–ª—å...)",
        "option.precious": "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π –º–µ—Ç–∞–ª–ª (–ó–æ–ª–æ—Ç–æ, –°–µ—Ä–µ–±—Ä–æ...)",
        "option.energy": "–≠–Ω–µ—Ä–≥–∏—è (–£—Ä–∞–Ω, –õ–∏—Ç–∏–π...)",
        "option.tech": "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–ö—Ä–µ–º–Ω–∏–π, –ö–æ–±–∞–ª—å—Ç...)",
        "fee.text": "–°—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è:",
        "fee.hint": "–≠—Ç–æ—Ç —Å–±–æ—Ä –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ",
        "button.connect": "üîó –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à –∫–æ—à–µ–ª–µ–∫",
        "button.create": "üè≠ –°–æ–∑–¥–∞—Ç—å —Å–µ–π—á–∞—Å (0.10 BNB)",
        "status.connect": "üîó –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à –∫–æ—à–µ–ª–µ–∫",
        "status.metamask": "–¢—Ä–µ–±—É–µ—Ç—Å—è MetaMask"
    }
};

// Factory form validation
document.addEventListener('DOMContentLoaded', function() {
    const tokenNameInput = document.getElementById('tokenName');
    const tokenSymbolInput = document.getElementById('tokenSymbol');
    const tokenSupplyInput = document.getElementById('tokenSupply');
    const tokenTypeSelect = document.getElementById('tokenType');
    const createTokenBtn = document.getElementById('createTokenBtn');
    
    // Current language (par d√©faut fran√ßais)
    let currentLang = 'fr';
    
    // Get language from main page language selector
    function getCurrentLanguage() {
        const activeLangBtn = document.querySelector('.lang-btn.active');
        if (activeLangBtn) {
            return activeLangBtn.getAttribute('data-lang');
        }
        return 'fr';
    }
    
    // Update factory translations when language changes
    function updateFactoryTranslations(lang) {
        currentLang = lang;
        const translations = factoryTranslations[lang] || factoryTranslations.fr;
        
        // Update all elements with data-lang-key
        document.querySelectorAll('[data-lang-key]').forEach(element => {
            const key = element.getAttribute('data-lang-key');
            if (translations[key]) {
                if (element.tagName === 'INPUT' || element.tagName === 'SELECT') {
                    element.setAttribute('placeholder', translations[key]);
                } else if (element.classList.contains('placeholder-text')) {
                    element.textContent = translations[key];
                } else if (element.tagName === 'OPTION') {
                    element.textContent = translations[key];
                } else {
                    element.textContent = translations[key];
                }
            }
        });
        
        // Update button text
        updateButtonState();
    }
    
    // Listen to language changes from main page
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            updateFactoryTranslations(lang);
        });
    });

    function validateForm() {
        const nameValid = tokenNameInput.value.trim().length >= 2;
        const symbolValid = tokenSymbolInput.value.trim().length >= 2;
        const supplyValid = tokenSupplyInput.value >= 1000;
        
        return nameValid && symbolValid && supplyValid;
    }

    function updateButtonState() {
        const translations = factoryTranslations[currentLang] || factoryTranslations.fr;
        
        if (validateForm()) {
            createTokenBtn.disabled = false;
            createTokenBtn.innerHTML = translations['button.create'] || 'üè≠ Create Now (0.10 BNB)';
            createTokenBtn.setAttribute('data-lang-key', 'button.create');
        } else {
            createTokenBtn.disabled = true;
            createTokenBtn.innerHTML = translations['button.connect'] || 'üîó Connect your wallet';
            createTokenBtn.setAttribute('data-lang-key', 'button.connect');
        }
    }

    tokenNameInput.addEventListener('input', updateButtonState);
    tokenSymbolInput.addEventListener('input', updateButtonState);
    tokenSupplyInput.addEventListener('input', updateButtonState);
    tokenTypeSelect.addEventListener('change', updateButtonState);

    // Simulate Web3 connection
    createTokenBtn.addEventListener('click', function() {
        if (!this.disabled) {
            const tokenName = tokenNameInput.value.trim();
            const tokenSymbol = tokenSymbolInput.value.trim().toUpperCase();
            const tokenType = tokenTypeSelect.value;
            const tokenSupply = tokenSupplyInput.value;
            
            const translations = factoryTranslations[currentLang] || factoryTranslations.fr;
            
            const statusBox = document.getElementById('statusBox');
            statusBox.className = 'status-box status-info';
            statusBox.style.display = 'block';
            
            // Message selon la langue
            let deploymentMessage = '';
            if (currentLang === 'fr') {
                deploymentMessage = `üîÑ D√©ploiement de <strong>${tokenName} (${tokenSymbol})</strong> en cours...<br>Frais: <strong>0.10 BNB</strong><br>Type: ${getTokenTypeName(tokenType, currentLang)}<br>Supply: ${formatNumber(tokenSupply)} tokens`;
            } else if (currentLang === 'ru') {
                deploymentMessage = `üîÑ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ <strong>${tokenName} (${tokenSymbol})</strong> –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...<br>–°–±–æ—Ä: <strong>0.10 BNB</strong><br>–¢–∏–ø: ${getTokenTypeName(tokenType, currentLang)}<br>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: ${formatNumber(tokenSupply)} —Ç–æ–∫–µ–Ω–æ–≤`;
            } else {
                deploymentMessage = `üîÑ Deploying <strong>${tokenName} (${tokenSymbol})</strong> in progress...<br>Fee: <strong>0.10 BNB</strong><br>Type: ${getTokenTypeName(tokenType, currentLang)}<br>Supply: ${formatNumber(tokenSupply)} tokens`;
            }
            
            statusBox.innerHTML = deploymentMessage;
            
            // Simuler le d√©ploiement
            setTimeout(() => {
                const contractAddress = '0x' + Math.random().toString(16).substr(2, 10) + '...' + Math.random().toString(16).substr(2, 6);
                statusBox.className = 'status-box status-success';
                
                // Message de succ√®s selon la langue
                let successMessage = '';
                if (currentLang === 'fr') {
                    successMessage = `
                        ‚úÖ <strong>${tokenName} (${tokenSymbol})</strong> cr√©√© avec succ√®s !<br>
                        <br>
                        üìä <strong>D√©tails:</strong><br>
                        ‚Ä¢ Type: ${getTokenTypeName(tokenType, currentLang)}<br>
                        ‚Ä¢ Supply: ${formatNumber(tokenSupply)} ${tokenSymbol}<br>
                        ‚Ä¢ Frais: <strong>0.10 BNB</strong><br>
                        ‚Ä¢ Adresse: <span class="token-link">${contractAddress}</span><br>
                        <br>
                        <small>üéâ 70% des frais (0.07 BNB) seront distribu√©s aux stakers ZND.<br>
                        Votre token sera visible dans votre portefeuille dans quelques minutes.</small>
                    `;
                } else if (currentLang === 'ru') {
                    successMessage = `
                        ‚úÖ <strong>${tokenName} (${tokenSymbol})</strong> —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!<br>
                        <br>
                        üìä <strong>–î–µ—Ç–∞–ª–∏:</strong><br>
                        ‚Ä¢ –¢–∏–ø: ${getTokenTypeName(tokenType, currentLang)}<br>
                        ‚Ä¢ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: ${formatNumber(tokenSupply)} ${tokenSymbol}<br>
                        ‚Ä¢ –°–±–æ—Ä: <strong>0.10 BNB</strong><br>
                        ‚Ä¢ –ê–¥—Ä–µ—Å: <span class="token-link">${contractAddress}</span><br>
                        <br>
                        <small>üéâ 70% —Å–±–æ—Ä–æ–≤ (0.07 BNB) –±—É–¥–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–æ —Å—Ä–µ–¥–∏ —Å—Ç–µ–π–∫–µ—Ä–æ–≤ ZND.<br>
                        –í–∞—à —Ç–æ–∫–µ–Ω –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –≤ –≤–∞—à–µ–º –∫–æ—à–µ–ª—å–∫–µ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.</small>
                    `;
                } else {
                    successMessage = `
                        ‚úÖ <strong>${tokenName} (${tokenSymbol})</strong> created successfully!<br>
                        <br>
                        üìä <strong>Details:</strong><br>
                        ‚Ä¢ Type: ${getTokenTypeName(tokenType, currentLang)}<br>
                        ‚Ä¢ Supply: ${formatNumber(tokenSupply)} ${tokenSymbol}<br>
                        ‚Ä¢ Fee: <strong>0.10 BNB</strong><br>
                        ‚Ä¢ Address: <span class="token-link">${contractAddress}</span><br>
                        <br>
                        <small>üéâ 70% of fees (0.07 BNB) will be distributed to ZND stakers.<br>
                        Your token will be visible in your wallet in a few minutes.</small>
                    `;
                }
                
                statusBox.innerHTML = successMessage;
                
                // Ajouter aux success stories
                addToSuccessStories(tokenName, tokenSymbol, tokenType, currentLang);
            }, 3000);
        }
    });

    // Helper functions
    function getTokenTypeName(type, lang) {
        const types = {
            'memecoin': {fr: 'Memecoin', en: 'Memecoin', ru: '–ú–µ–º–∫–æ–∏–Ω'},
            'utility': {fr: 'Utility Token', en: 'Utility Token', ru: '–£—Ç–∏–ª–∏—Ç–∏ —Ç–æ–∫–µ–Ω'},
            'stablecoin': {fr: 'Stablecoin', en: 'Stablecoin', ru: '–°—Ç–µ–π–±–ª–∫–æ–∏–Ω'},
            'governance': {fr: 'Governance Token', en: 'Governance Token', ru: '–¢–æ–∫–µ–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è'},
            'nft': {fr: 'Collection NFT', en: 'NFT Collection', ru: '–ö–æ–ª–ª–µ–∫—Ü–∏—è NFT'}
        };
        return types[type] ? types[type][lang] || types[type]['en'] : 'Token';
    }

    function formatNumber(num) {
        return parseInt(num).toLocaleString(currentLang === 'ru' ? 'ru-RU' : currentLang === 'fr' ? 'fr-FR' : 'en-US');
    }

    function addToSuccessStories(name, symbol, type, lang) {
        const storiesGrid = document.querySelector('.stories-grid');
        if (storiesGrid) {
            const story = document.createElement('div');
            story.className = 'story';
            
            let performance = '';
            if (type === 'memecoin') {
                performance = lang === 'fr' ? '+250% d√®s le lancement' : 
                             lang === 'ru' ? '+250% —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞' : 
                             '+250% since launch';
            } else if (type === 'utility') {
                performance = lang === 'fr' ? 'Utility token ecosystem' : 
                             lang === 'ru' ? '–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ —É—Ç–∏–ª–∏—Ç–∏ —Ç–æ–∫–µ–Ω–æ–≤' : 
                             'Utility token ecosystem';
            } else if (type === 'nft') {
                performance = lang === 'fr' ? 'Collection NFT lanc√©e' : 
                             lang === 'ru' ? '–ö–æ–ª–ª–µ–∫—Ü–∏—è NFT –∑–∞–ø—É—â–µ–Ω–∞' : 
                             'NFT collection launched';
            } else {
                performance = lang === 'fr' ? 'Token d√©ploy√© avec succ√®s' : 
                             lang === 'ru' ? '–¢–æ–∫–µ–Ω —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç' : 
                             'Token successfully deployed';
            }
            
            story.innerHTML = `
                <strong>${name}</strong> <span class="symbol">${symbol}</span>
                <small>${performance}</small>
            `;
            
            storiesGrid.prepend(story);
            
            // Limiter √† 5 stories maximum
            const stories = storiesGrid.querySelectorAll('.story');
            if (stories.length > 5) {
                stories[stories.length - 1].remove();
            }
        }
    }

    // Initialize
    currentLang = getCurrentLanguage();
    updateFactoryTranslations(currentLang);
    updateButtonState();
});
</script>
